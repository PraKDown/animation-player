!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){const n=document.querySelector("section.canvas"),o=document.querySelector("canvas.main"),r=o.getContext("2d"),a=document.querySelector(".animation canvas"),c=a.getContext("2d"),i=document.querySelector("section.colors > div:nth-child(1)"),u=document.querySelectorAll("section.colors > div:not(:nth-child(1))"),l=document.querySelector("section.slides"),d=document.querySelector("div.addnewframe"),s=document.querySelector("input.frames"),v=document.querySelector("div.value"),m=document.querySelector("button.fullscreen"),f=.5*window.innerWidth,g=1e3,p=800;let y,b,h,S="rgb(29, 26, 26)",q=!1,x=0;const E=[];function I(){const e=document.createElement("div");e.className="slide",x+=1,e.innerHTML=`<canvas height="500"></canvas>\n        <div class="number">${x}</div>\n        <div class="delete"></div>\n        <div class="copy"></div>`;const t=e.querySelector("canvas").getContext("2d");y=e.querySelector("canvas"),b=y.getContext("2d"),y.setAttribute("width",f);const n=b.getImageData(0,0,g,p);r.putImageData(n,0,0),e.addEventListener("click",()=>{b=t;const e=t.getImageData(0,0,g,p);r.putImageData(e,0,0)}),e.querySelector("div.delete").addEventListener("click",t=>{l.removeChild(e),E.splice(+e.querySelector("div.number").textContent-1,1),"1"===e.querySelector("div.number").textContent&&0===E.length&&I(),E.forEach((e,t)=>{x=t+1,e.querySelector("div.number").textContent=x,t===E.length-1&&(b=e.querySelector("canvas").getContext("2d"))});const n=b.getImageData(0,0,g,p);r.putImageData(n,0,0),t.stopPropagation()}),e.querySelector("div.copy").addEventListener("click",()=>{I();const e=t.getImageData(0,0,g,p);b.putImageData(e,0,0),r.putImageData(e,0,0)}),E.push(e),l.insertBefore(e,d)}function L(e,t,n){r.lineWidth=20,r.strokeStyle=n,r.fillStyle=n,r.lineTo(e,t),r.stroke(),r.beginPath(),r.arc(e,t,10,0,2*Math.PI),r.fill(),r.beginPath(),r.moveTo(e,t)}function C(){null!=h&&clearTimeout(h);let e=0;h=setInterval(()=>{(e+=1)>=E.length&&(e=0);const t=E[e].querySelector("canvas").getContext("2d").getImageData(0,0,g,p);c.putImageData(t,0,0)},1e3/s.value)}n.addEventListener("mousedown",e=>{q=!0,L(e.pageX-n.offsetLeft,e.pageY-n.offsetTop,S)}),document.body.addEventListener("mouseup",()=>{q=!1,r.beginPath();const e=r.getImageData(0,0,g,p);b.putImageData(e,0,0)}),n.addEventListener("mousemove",e=>{if(q){L(e.pageX-n.offsetLeft,e.pageY-n.offsetTop,S)}}),u.forEach(e=>{e.addEventListener("click",()=>{S=e.style.backgroundColor,i.style.backgroundColor=S})}),d.addEventListener("click",()=>{I()}),s.addEventListener("input",()=>{v.textContent=s.value}),s.addEventListener("change",()=>{C()}),m.addEventListener("click",()=>{a.requestFullscreen()}),a.addEventListener("click",()=>{document.fullscreenElement&&document.exitFullscreen()}),o.setAttribute("width",f),a.setAttribute("width",f),l.style.height=`${window.innerHeight-60-50}px`,I(),C()}]);