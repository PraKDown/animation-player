!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){const n=document.querySelector("section.canvas"),o=document.querySelector("canvas.main"),r=o.getContext("2d"),a=document.querySelector(".animation canvas"),c=a.getContext("2d"),i=document.querySelector("section.colors > div:nth-child(1)"),u=document.querySelectorAll("section.colors > div:not(:nth-child(1))"),l=document.querySelector("section.slides"),d=document.querySelector("div.addnewframe"),s=document.querySelector("input.frames"),v=document.querySelector("div.value"),m=document.querySelector("button.fullscreen"),g=.5*window.innerWidth,f=1e3,p=800,y=[];let b,h,S,q="rgb(29, 26, 26)",x=!1,E=0;function I(){const e=document.createElement("div");e.className="slide",E+=1,e.innerHTML=`<canvas height="500"></canvas>\n        <div class="number">${E}</div>\n        <div class="delete"></div>\n        <div class="copy"></div>`;const t=e.querySelector("canvas").getContext("2d");b=e.querySelector("canvas"),h=b.getContext("2d"),b.setAttribute("width",g);const n=h.getImageData(0,0,f,p);r.putImageData(n,0,0),e.addEventListener("click",()=>{h=t;const e=t.getImageData(0,0,f,p);r.putImageData(e,0,0)}),e.querySelector("div.delete").addEventListener("click",t=>{l.removeChild(e),y.splice(+e.querySelector("div.number").textContent-1,1),"1"===e.querySelector("div.number").textContent&&0===y.length&&I(),y.forEach((e,t)=>{E=t+1,e.querySelector("div.number").textContent=E,t===y.length-1&&(h=e.querySelector("canvas").getContext("2d"))});const n=h.getImageData(0,0,f,p);r.putImageData(n,0,0),t.stopPropagation()}),e.querySelector("div.copy").addEventListener("click",()=>{I();const e=t.getImageData(0,0,f,p);h.putImageData(e,0,0),r.putImageData(e,0,0),event.stopPropagation()}),y.push(e),l.insertBefore(e,d)}function L(e,t,n){r.lineWidth=20,r.strokeStyle=n,r.fillStyle=n,r.lineTo(e,t),r.stroke(),r.beginPath(),r.arc(e,t,10,0,2*Math.PI),r.fill(),r.beginPath(),r.moveTo(e,t)}function C(){null!=S&&clearTimeout(S);let e=0;S=setInterval(()=>{(e+=1)>=y.length&&(e=0);const t=y[e].querySelector("canvas").getContext("2d").getImageData(0,0,f,p);c.putImageData(t,0,0)},1e3/s.value)}n.addEventListener("mousedown",e=>{x=!0,L(e.pageX-n.offsetLeft,e.pageY-n.offsetTop,q)}),document.body.addEventListener("mouseup",()=>{x=!1,r.beginPath();const e=r.getImageData(0,0,f,p);h.putImageData(e,0,0)}),n.addEventListener("mousemove",e=>{if(x){L(e.pageX-n.offsetLeft,e.pageY-n.offsetTop,q)}}),u.forEach(e=>{e.addEventListener("click",()=>{q=e.style.backgroundColor,i.style.backgroundColor=q})}),d.addEventListener("click",()=>{I()}),s.addEventListener("input",()=>{v.textContent=s.value}),s.addEventListener("change",()=>{C()}),m.addEventListener("click",()=>{a.requestFullscreen()}),a.addEventListener("click",()=>{document.fullscreenElement&&document.exitFullscreen()}),o.setAttribute("width",g),a.setAttribute("width",g),l.style.height=`${window.innerHeight-60-50}px`,I(),C()}]);