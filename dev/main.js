!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){const n=document.querySelector("section.canvas"),o=document.querySelector("canvas.main"),r=o.getContext("2d"),c=document.querySelector(".animation canvas"),a=c.getContext("2d"),u=document.querySelectorAll("section.colors > div:not(:nth-child(1))"),i=document.querySelector("section.slides"),l=document.querySelector("div.addnewframe"),d=document.querySelector("input.frames"),s=document.querySelector("div.value"),v=document.querySelector("button.fullscreen"),m=.5*window.innerWidth;let f,g,p,y=document.querySelector("section.colors > div:nth-child(1)").style,S=!1,b=0;const q=[];function h(){const e=document.createElement("div");e.className="slide",b+=1,e.innerHTML=`<canvas height="500"></canvas>\n        <div class="number">${b}</div>\n        <div class="delete"></div>\n        <div class="copy"></div>`;const t=e.querySelector("canvas").getContext("2d");f=e.querySelector("canvas"),g=f.getContext("2d"),f.setAttribute("width",m);const n=g.getImageData(0,0,1e3,800);r.putImageData(n,0,0),e.addEventListener("click",()=>{g=t;const e=t.getImageData(0,0,1e3,800);r.putImageData(e,0,0)}),e.querySelector("div.delete").addEventListener("click",t=>{i.removeChild(e),q.splice(+e.querySelector("div.number").textContent-1,1),"1"===e.querySelector("div.number").textContent&&h(),q.forEach((e,t)=>{b=t+1,g=e.querySelector("canvas").getContext("2d"),e.querySelector("div.number").textContent=b});const n=g.getImageData(0,0,1e3,800);r.putImageData(n,0,0),t.stopPropagation()}),e.querySelector("div.copy").addEventListener("click",()=>{h();const e=t.getImageData(0,0,1e3,800);g.putImageData(e,0,0),r.putImageData(e,0,0)}),q.push(e),i.insertBefore(e,l)}function x(e,t,n){r.beginPath(),r.fillStyle=n,r.arc(e,t,10,0,2*Math.PI),r.fill()}o.setAttribute("width",m),c.setAttribute("width",m),h(),n.addEventListener("mousedown",e=>{S=!0,x(e.pageX-n.offsetLeft,e.pageY-n.offsetTop,y.color)}),document.body.addEventListener("mouseup",()=>{S=!1;const e=r.getImageData(0,0,1e3,800);g.putImageData(e,0,0)}),n.addEventListener("mousemove",e=>{if(S){x(e.pageX-n.offsetLeft,e.pageY-n.offsetTop,y.color)}}),u.forEach(e=>{e.addEventListener("click",()=>{y.color=e.style.backgroundColor})}),l.addEventListener("click",()=>{h()}),d.addEventListener("input",()=>{s.textContent=d.value}),d.addEventListener("change",()=>{null!=p&&clearTimeout(p);let e=0;p=setInterval(()=>{(e+=1)>=q.length&&(e=0);const t=q[e].querySelector("canvas").getContext("2d").getImageData(0,0,1e3,800);a.putImageData(t,0,0)},1e3/d.value)}),v.addEventListener("click",()=>{c.requestFullscreen()}),c.addEventListener("click",()=>{document.fullscreenElement&&document.exitFullscreen()})}]);